<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorials · RTMsim</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="RTMsim logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">RTMsim</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">RTMsim</a></li><li><a class="tocitem" href="../functions/">Functions</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li><a class="tocitem" href="../parameters/">Input parameters</a></li><li class="is-active"><a class="tocitem" href>Tutorials</a><ul class="internal"><li><a class="tocitem" href="#Validation-and-verification-cases"><span>Validation and verification cases</span></a></li><li><a class="tocitem" href="#Use-cases-Windows"><span>Use cases - Windows</span></a></li><li><a class="tocitem" href="#Use-cases-Linux"><span>Use cases - Linux</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tutorials</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorials</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/obertscheiderfhwn/RTMsim/blob/main/docs/src/tutorials.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorials"><a class="docs-heading-anchor" href="#Tutorials">Tutorials</a><a id="Tutorials-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorials" title="Permalink"></a></h1><h2 id="Validation-and-verification-cases"><a class="docs-heading-anchor" href="#Validation-and-verification-cases">Validation and verification cases</a><a id="Validation-and-verification-cases-1"></a><a class="docs-heading-anchor-permalink" href="#Validation-and-verification-cases" title="Permalink"></a></h2><p>Three different test cases are available, successfully validating the Julia implementation of the RTM filling model:</p><ol><li>Validation of the software tool for radial flow with isotropic in-plane permeablity: The simulated flow front position after 200 s is compared with the calculated flow front position from literature.  </li><li>Verification of the software tool for radial flow with tilted orthotropic in-plane permeablity: The simulated tilted elliptical flow front is analysed and the calculated orthotropic permeablity is compared with the simulation input.</li><li>Comparison of the simulated flow front position for a complex annulus filler-like part with the simulated flow front position from Ansys Fluent and comparison of the simulated filling pattern with results from a myRTM simulation.</li></ol><p>The validation and verification cases can be executed in the GUI with the buttons <code>Run with input file</code> and <code>Plot overview</code> or from the command line with </p><ul><li><code>rtmsim.start_rtmsim(&quot;inputfiles\\input_case1_coarsemesh.txt&quot;)</code> and <code>rtmsim.plot_overview(-1,-1)</code> on Windows and</li><li><code>rtmsim.start_rtmsim(&quot;inputfiles/input_case1_coarsemesh.txt&quot;)</code> and <code>rtmsim.plot_overview(-1,-1)</code> on Linux.</li></ul><p>The input files for the validation cases are <code>input_case1_coarsemesh.txt</code>, <code>input_case1_finemesh.txt</code>, <code>input_case2_coarsemesh.txt</code>, <code>input_case2_finemesh.txt</code>, <code>input_case3_coarsemesh.txt</code>, <code>input_case3_finemesh.txt</code>. The input files are saved in directory <code>inputfiles</code> in the package folder. The appropriate file must be selected in GUI or in the function call.</p><p>The following passages show and explain the simulation results (after rotating the views with LMB) for the test cases.</p><h3 id="V-and-V-case-1"><a class="docs-heading-anchor" href="#V-and-V-case-1">V&amp;V case 1</a><a id="V-and-V-case-1-1"></a><a class="docs-heading-anchor-permalink" href="#V-and-V-case-1" title="Permalink"></a></h3><p>Results for coarse and fine mesh of case 1 (Preform size 0.6 x 0.6 x 0.003 m^3, central injection gate with 0.02 m diameter, 35000 Pa injection pressure, dynamic viscosity 0.06 Pas, porosity 0.7, isotropic permeablity 3e-10 m^2):</p><img src="../assets/figures/validation_case1a.png"><br><img src="../assets/figures/validation_case1b.png"><br><p>According to an analytical estimation, the flow front after 50, 100, 150 and 200 s is a circle with radius 0.114, 0.150, 0.178 and 0.200 m. The values for the fine mesh agree well with the results from the analytical formula. The values for the coarse mesh show an error of &lt;15% which decreases significantly in the course of time but the shape is no smooth circle.</p><h3 id="V-and-V-case-2"><a class="docs-heading-anchor" href="#V-and-V-case-2">V&amp;V case 2</a><a id="V-and-V-case-2-1"></a><a class="docs-heading-anchor-permalink" href="#V-and-V-case-2" title="Permalink"></a></h3><p>Results for coarse and fine mesh of case 2 (Preform size 0.6 x 0.6 x 0.003 m^3, central injection gate with 0.02 m diameter, 35000 Pa injection pressure, dynamic viscosity 0.06 Pas, porosity 0.70, permeability 3.0e-10 m^2 in first principal direction 30° to the horizontal and permeability 1.5e-10 m^2 in second principal direction):</p><img src="../assets/figures/validation_case2a.png"><br><img src="../assets/figures/validation_case2b.png"><br><p>Analyzing the flow front after 200 s, the orthotropic permeability is described by 2.97e-10 m^2, 1.45e-10 m^2 and angle 35° for the fine mesh and 2.48e-10 m^2, 1.18e-10 m^2 and 35° for the coarse mesh. For the fine mesh (2198 cells for a domain with 600 × 600 mm), this reverse engineering shows very good agreement of the calculated orthotropic permeability  with the values used as simulation input. For the coarse mesh (588 cells) the agreement is still acceptable.</p><h3 id="V-and-V-case-3"><a class="docs-heading-anchor" href="#V-and-V-case-3">V&amp;V case 3</a><a id="V-and-V-case-3-1"></a><a class="docs-heading-anchor-permalink" href="#V-and-V-case-3" title="Permalink"></a></h3><p>Results for coarse and fine mesh of case 3 (Bounding box of part is 0.4 x 0.15 x 0.1 m^3, part thickness is 0.003 m^3, injection gate at on end of the part, 35000 Pa injection pressure, dynamic viscosity 0.06 Pas, porosity 0.7, isotropic permeablity 3e-10 m^2):</p><img src="../assets/figures/validation_case3a.png"><br><img src="../assets/figures/validation_case3b.png"><br><p>If the position of inlet and outlet ports is investigated, simulations with a coarse mesh and consequently reduced computational time is sufficient since the flow front progagation is predicted properly. The actual filling time can only be predicted with a fine mesh. A mesh refinement study must be performed. With the coarse mesh it takes approximately 50 s longer to reach the same filling state. If the predicted filling with the fine mesh is considered correct, the error with the coarse mesh is approximately 20%. This is in good agreement with the results from case 1 where domain size, coarse and fine mesh are similar and the permeability and injection values are the same. </p><h2 id="Use-cases-Windows"><a class="docs-heading-anchor" href="#Use-cases-Windows">Use cases - Windows</a><a id="Use-cases-Windows-1"></a><a class="docs-heading-anchor-permalink" href="#Use-cases-Windows" title="Permalink"></a></h2><p>The following three examples show typical use cases how RTMsim is used by engineers:</p><h3 id="Use-case-1"><a class="docs-heading-anchor" href="#Use-case-1">Use case 1</a><a id="Use-case-1-1"></a><a class="docs-heading-anchor-permalink" href="#Use-case-1" title="Permalink"></a></h3><p>This examples shows how to start a simulation with the GUI. Click on <code>Select meshfile</code> and select the mesh file <code>mesh_permeameter1_foursets.bdf</code> from the <code>meshfiles</code> folder and set all other parameters as shown:</p><br><img src="../assets/figures/example1a.png"><br><p>First, inspect the mesh file and plot the pre-defined sets:</p><br><img src="../assets/figures/example1d.png"><br><p>Set 1 is the pressure inlet, set 2 and set 3 are reinforcement patches with lower permeability and set 4 is a racetracking channel between the main preform and set 3 with same porosity but a factor 10 higher permeability than the main preform (racetracking with higher permeablity=higher flow speed takes place in thin regions between different patches or at the preform boundary). Then start the simulation and plot the filling overview after 200 s simulation time:</p><br><img src="../assets/figures/example1b.png"><br><p>Continue the simulation for another 100 s simulation time and plot the filling overview:</p><br><img src="../assets/figures/example1c.png"><br><h3 id="Use-case-2"><a class="docs-heading-anchor" href="#Use-case-2">Use case 2</a><a id="Use-case-2-1"></a><a class="docs-heading-anchor-permalink" href="#Use-case-2" title="Permalink"></a></h3><p>This example shows how to use outlet ports. If outlet ports are defined, the outlet ports are connected to the catch pot (typically at ambient pressure or evacuated). If no outlet ports are defined, the hoses to the catch pot are clamped. The simulation is started with the following settings (mesh file is <code>mesh_annulusfiller1_inletandoutlet.bdf</code>):</p><br><img src="../assets/figures/example2a.png"><br><p>The result plot shows the completely filled part with the grey inlet and outlet ports and the pressure contour:</p><br><img src="../assets/figures/example2b.png"><br><p>The filling overview is:</p><br><img src="../assets/figures/example2c.png"><br><p>The filling overview without pressure outlet (select Ignore radio button for the second set, Start simulation, Plot overview) shows only small differences at the very end of the filling:</p><br><img src="../assets/figures/example2e.png"><br><h3 id="Use-case-3"><a class="docs-heading-anchor" href="#Use-case-3">Use case 3</a><a id="Use-case-3-1"></a><a class="docs-heading-anchor-permalink" href="#Use-case-3" title="Permalink"></a></h3><p>This example shows a workflow for selecting the inlet ports interactively. First, select the mesh file <code>meshfiles\\mesh_annulusfiller1.bdf</code> and plot the mesh to see the bounding box size of the part:</p><br><img src="../assets/figures/example3a.png"><br><p>Specify the inlet port radius and press the Select inlet port button:</p><br><img src="../assets/figures/example3b.png"><br><p>Rotate the view with the nodes with LMB and select an inlet port location with key <code>p</code>+LMB. After selection the node is highlighted:</p><br><img src="../assets/figures/example3c.png"><br><p>Selection of multiple nodes is possible. Then close the graphics window and start the simulation with the settings shown above by clicking the Start interactive button. All radio buttons show ignore if only the interactively selected inlet is used. In general, sets defining different preform properties or additional inlet ports or outlet regions can also be used in interactive mode. Plot the filling overview:</p><br><img src="../assets/figures/example3d.png"><br><p>If cascade injection is planned (additional inlet port which is activated just after the flow front reached this location), select two inlet ports after clicking the button Select inlet port. The first one at the same location as before and the second one at the end of the current position of the flow front:</p><br><img src="../assets/figures/example3e.png"><br><p>Close the graphics window and continue the simulation with the button Continue interactive. The filling and the final pressure contour are:</p><br><img src="../assets/figures/example3f.png"><br><br><img src="../assets/figures/example3g.png"><br><p>Without cascade injection, the degree of filling is significantly lower as shown in the subsequent figure for a filling time of 400 s.</p><br><img src="../assets/figures/example3h.png"><br><h2 id="Use-cases-Linux"><a class="docs-heading-anchor" href="#Use-cases-Linux">Use cases - Linux</a><a id="Use-cases-Linux-1"></a><a class="docs-heading-anchor-permalink" href="#Use-cases-Linux" title="Permalink"></a></h2><p>Since the GUI for Linux is still under development, the steps of the presented use cases can be executed with the following list of commands in the Julia terminal.</p><h3 id="Use-case-1-2"><a class="docs-heading-anchor" href="#Use-case-1-2">Use case 1</a><a class="docs-heading-anchor-permalink" href="#Use-case-1-2" title="Permalink"></a></h3><p>This examples shows how to perform a simulation in the Julia terminal. First, inspect the mesh file and plot the pre-defined sets:</p><ul><li><code>rtmsim.plot_sets(&quot;meshfiles/mesh_permeameter1_foursets.bdf&quot;)</code> if file <code>mesh_permeameter1_foursets.bdf</code> is included in folder <code>meshfiles</code> in the working directory.</li></ul><br><img src="../assets/figures/example1d.png"><br><p>Set 1 is the pressure inlet, set 2 and set 3 are reinforcement patches with lower permeability and set 4 is a racetracking channel between the main preform and set 3 with same porosity but a factor 10 higher permeability than the main preform (racetracking with higher permeablity=higher flow speed takes place in thin regions between different patches or at the preform boundary). Then start the simulation and plot the filling overview after 200 s simulation time:</p><ul><li><code>rtmsim.rtmsim_rev1(1,&quot;meshfiles/mesh_permeameter1_foursets.bdf&quot;,200, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 1,2,2,2,0,&quot;results.jld2&quot;,0,0.01,16)</code></li><li><code>rtmsim.plot_overview(-1,-1)</code></li></ul><br><img src="../assets/figures/example1b.png"><br><p>Continue the simulation for another 100 s simulation time and plot the filling overview:</p><ul><li><code>rtmsim.rtmsim_rev1(1,&quot;meshfiles/mesh_permeameter1_foursets.bdf&quot;,100, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 1,2,2,2,1,&quot;results.jld2&quot;,0,0.01,16)</code></li><li><code>rtmsim.plot_overview(-1,-1)</code></li></ul><br><img src="../assets/figures/example1c.png"><br><h3 id="Use-case-2-2"><a class="docs-heading-anchor" href="#Use-case-2-2">Use case 2</a><a class="docs-heading-anchor-permalink" href="#Use-case-2-2" title="Permalink"></a></h3><p>This example shows how to use outlet ports. If outlet ports are defined, the outlet ports are connected to the catch pot (typically at ambient pressure or evacuated). If no outlet ports are defined, the hoses to the catch pot are clamped. The simulation is started with the following settings:</p><ul><li><code>rtmsim.rtmsim_rev1(1,&quot;meshfiles/mesh_annulusfiller1_inletandoutlet.bdf&quot;,800, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 1,3,0,0, 0,&quot;results.jld2&quot;,0,0.01,16)</code></li></ul><p>The result plot shows the completely filled part with the grey inlet and outlet ports and the pressure contour are created:</p><ul><li><code>rtmsim.plot_results(&quot;results.jld2&quot;)</code></li></ul><br><img src="../assets/figures/example2b.png"><br><p>The filling overview is created:</p><ul><li><code>rtmsim.plot_overview(-1,-1)</code></li></ul><br><img src="../assets/figures/example2c.png"><br><p>The filling overview without pressure outlet is:</p><ul><li><code>rtmsim.rtmsim_rev1(1,&quot;meshfiles/mesh_annulusfiller1_inletandoutlet.bdf&quot;,800, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 1,0,0,0, 0,&quot;results.jld2&quot;,0,0.01,16)</code></li><li><code>rtmsim.plot_overview(-1,-1)</code></li></ul><br><img src="../assets/figures/example2e.png"><br><h3 id="Use-case-3-2"><a class="docs-heading-anchor" href="#Use-case-3-2">Use case 3</a><a class="docs-heading-anchor-permalink" href="#Use-case-3-2" title="Permalink"></a></h3><p>This example shows a workflow for selecting the inlet ports interactively. First, plot the mesh to see the bounding box size of the part:</p><ul><li><code>rtmsim.plot_mesh(&quot;meshfiles/mesh_annulusfiller1.bdf&quot;,1)</code></li></ul><br><img src="../assets/figures/example3a.png"><br><p>Select the inlet ports in a graphics window:</p><ul><li><code>rtmsim.plot_mesh(&quot;meshfiles/mesh_annulusfiller1.bdf&quot;,2)</code></li></ul><p>Rotate the view with the nodes with LMB and select an inlet port location with key <code>p</code>+LMB. After selection the node is highlighted:</p><br><img src="../assets/figures/example3c.png"><br><p>Selection of multiple nodes is possible. Then close the graphics window and start the simulation with the following settings:</p><ul><li><code>rtmsim.rtmsim_rev1(1,&quot;meshfiles/mesh_annulusfiller1_inletandoutlet.bdf&quot;,200, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 0,0,0,0, 0,&quot;results.jld2&quot;,1,0.01,16)</code></li></ul><p>Plot the filling overview:</p><ul><li><code>rtmsim.plot_overview(-1,-1)</code></li></ul><br><img src="../assets/figures/example3d.png"><br><p>If cascade injection is planned (additional inlet port which is activated just after the flow front reached this location), select two inlet ports. The first one at the same location as before and the second one at the end of the current position of the flow front:</p><ul><li><code>rtmsim.plot_mesh(&quot;meshfiles/mesh_annulusfiller1.bdf&quot;,2)</code></li></ul><br><img src="../assets/figures/example3e.png"><br><p>Close the graphics window and continue the simulation with the button Continue interactive. </p><ul><li><code>rtmsim.rtmsim_rev1(1,&quot;meshfiles/mesh_annulusfiller1_inletandoutlet.bdf&quot;,200, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 0,0,0,0, 1,&quot;results.jld2&quot;,1,0.01,16)</code></li></ul><p>The filling and the final pressure contour are:</p><ul><li><code>rtmsim.plot_overview(-1,-1)</code></li></ul><br><img src="../assets/figures/example3f.png"><br><ul><li><code>rtmsim.plot_results(&quot;results.jld2&quot;)</code></li></ul><br><img src="../assets/figures/example3g.png"><br><p>Without cascade injection, the degree of filling is significantly lower as shown in the subsequent figure for a filling time of 400 s.</p><br><img src="../assets/figures/example3h.png"><br></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../parameters/">« Input parameters</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 27 February 2023 20:31">Monday 27 February 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
