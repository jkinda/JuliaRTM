var documenterSearchIndex = {"docs":
[{"location":"#RTMsim","page":"RTMsim","title":"RTMsim","text":"","category":"section"},{"location":"","page":"RTMsim","title":"RTMsim","text":"RTMsim is a new software tool for RTM filling simulations which fulfills these requirements: Several test cases were used for successfully validating the implemented model. The porous cavity is fully described by a mesh file with triangular cells on the partâ€™s mid-surface and cell set definitions. The latter can be used for specifying the location of the pressure injection ports and regions with different preforms by assigning different thickness, porosity and permeability values. Additional equations (e.g. for modeling the degree-of-cure) can either be added with equations of the same type or modifications of existing equations (e.g. for variable cavity thickness as needed for vacuum assisted resin infusion simulations).","category":"page"},{"location":"#Package-Features","page":"RTMsim","title":"Package Features","text":"","category":"section"},{"location":"","page":"RTMsim","title":"RTMsim","text":"The simulation model shall give correct results for filling pattern and filling time.\nThe simulation tool takes only composite-manufacturing related inputs and the simulation shall be robust independent of numerics-related input.\nThe simulation tool takes a shell model of the geometry as input and the location-dependent properties are assigned directly on the shell elements.\nNew functionalities can be implemented by either adding equations of the same type or modifying existing equations.","category":"page"},{"location":"#Function-Documentation","page":"RTMsim","title":"Function Documentation","text":"","category":"section"},{"location":"","page":"RTMsim","title":"RTMsim","text":"rtmsim.plot_mesh(meshfilename,i_mode)","category":"page"},{"location":"#rtmsim.plot_mesh-Tuple{Any, Any}","page":"RTMsim","title":"rtmsim.plot_mesh","text":"function plot_mesh(meshfilename,i_mode)\n\nCreate mesh plot with cells with i_mode==1 and create mesh plots with cell center nodes with i_mode==2 for manual selection of inlet ports.\n\nUnit test:\n\nrtmsim.plot_mesh(\"..\\meshfiles\\mesh_permeameter1_foursets.bdf\",1)\n\nAdditional unit tests:\n\nrtmsim.plot_mesh(\"..\\meshfiles\\mesh_annulusfiller1.bdf\",2) for the manual selection of inlet ports with left mouse button click while key p is pressed \nrtmsim.rtmsim_rev1(1,\"..\\meshfiles\\mesh_annulusfiller1.bdf\",200, 0.35e5,1.205,1.4,0.06, 0.35e5,0.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 0,0,0,0, 0,\"results.jld2\",1,0.01,16) for starting only with the interactively selected inlet ports\n\n\n\n\n\n","category":"method"},{"location":"","page":"RTMsim","title":"RTMsim","text":"rtmsim.read_nastran_mesh(meshfilename,paramset,paramset1,paramset2,paramset3,paramset4,patchtype1val,patchtype2val,patchtype3val,patchtype4val,i_interactive,r_p)","category":"page"},{"location":"#rtmsim.read_nastran_mesh-NTuple{12, Any}","page":"RTMsim","title":"rtmsim.read_nastran_mesh","text":"function read_nastran_mesh(meshfilename,paramset,paramset1,paramset2,paramset3,paramset4,patchtype1val,patchtype2val,patchtype3val,patchtype4val,i_interactive,r_p)\n\nRead file in Nastran format with fixed length (8 digits), nodes (GRIDS) defined in global coordinate system.\n\nUnit test:\n\nparamset=[0.5,0.3,3e-10,1.0,1.0,0.0,0.0];paramset1=paramset;paramset2=paramset;paramset3=paramset;paramset4=paramset;patchtype1val=-1;patchtype2val=-1;patchtype3val=-1;patchtype4val=-1;i_interactive=0;r_p=0.01; N,cellgridid,gridx,gridy,gridz,cellcenterx,cellcentery,cellcenterz,patchparameters,patchparameters1,patchparameters2,patchparameters3,patchparameters4,patchids1,patchids2,patchids3,patchids4,inletpatchids=read_mesh(meshfilename,paramset,paramset1,paramset2,paramset3,paramset4,patchtype1val,patchtype2val,patchtype3val,patchtype4val,i_interactive,r_p)`\n\n\n\n\n\n","category":"method"},{"location":"","page":"RTMsim","title":"RTMsim","text":"rtmsim.start_rtmsim(inputfilename)","category":"page"},{"location":"#rtmsim.start_rtmsim-Tuple{Any}","page":"RTMsim","title":"rtmsim.start_rtmsim","text":"start_rtmsim(inputfilename)\n\nReads the text input file and calls the solver with the read parameters. The complete set of input parameters can be accessed in the input file. The following paragraph shows an example for such an input file:\n\n    1    #i_model \n    meshfiles\\mesh_permeameter1_foursets.bdf    #meshfilename \n    200    #tmax \n    1.01325e5 1.225 1.4 0.06    #p_ref rho_ref gamma mu_resin_val \n    1.35e5 1.0e5    #p_a_val p_init_val \n    3e-3 0.7 3e-10 1 1 0 0    #t_val porosity_val K_val alpha_val refdir1_val refdir2_val refdir3_val \n    3e-3 0.7 3e-10 1 1 0 0    #t1_val porosity1_val K1_val alpha1_val refdir11_val refdir21_val refdir31_val \n    3e-3 0.7 3e-10 1 1 0 0    #t2_val porosity2_val K2_val alpha2_val refdir12_val refdir22_val refdir32_val\n    3e-3 0.7 3e-10 1 1 0 0    #t3_val porosity3_val K3_val alpha3_val refdir13_val refdir23_val refdir33_val\n    3e-3 0.7 3e-10 1 1 0 0    #t4_val porosity4_val K4_val alpha4_val refdir14_val refdir24_val refdir34_val \n    1 0 0 0    #patchtype1val patchtype2val patchtype3val patchtype4val \n    0 results.jld2    #i_restart restartfilename\n    0 0.01    #i_interactive r_p\n    16    #n_pics\n\nMeaning of the variables:\n\ni_model: Identifier for physical model (Default value is 1)\nmeshfilename: Mesh filename.\ntmax: Maximum simulation time.\np_ref rho_ref gamma mu_resin_val: Parameters for the equation of state and dynamic viscosity of resin used in the Darcy term.\np_a_val p_init_val: Absolut pressure value for injection port and for initial cavity pressure.\nt_val porosity_val K_val alpha_val refdir1_val refdir2_val refdir3_val: Properties of the cells in the main preform: The vector (refdir1_val,refdir2_val,refdir3_val) is projected onto the cell in order to define the first principal cell direction. The second principal cell direction is perpendicular to the first one in the plane spanned by the cell nodes. The principal cell directions are used as the principal permeabilty directions. The cell properties are defined by the thickness t_val, the porosity porosity_val, the permeability K_val in the first principal cell direction, the permeablity alpha_val in the second principal direction.\nt1_val porosity1_val K1_val alpha1_val refdir11_val refdir21_val refdir31_val etc.: Properties for up to four additional cell regions if preform. \npatchtype1val patchtype2val patchtype3val patchtype4val: These regions are used to specify the location of the pressure boundary conditions and to specify regions with different permeability, porosity and thickness properties (e.g. for different part thickness and layup or for race tracking which are regions with very high permeability typically at the boundary of the preforms). Vents need not be specified. Parameters patchtype1val define the patch type.\ni_restart restartfilename: Start with new simulation if 0 or continue previous simulation if 1.\ni_interactive r_p: Select the inlet ports graphically if i_interactive equal to 1.\nn_pics: Number of intermediate output files. Supposed to be a multiple of 4.\n\nEntries are separated by one blank.\n\nUnit test:\n\nrtmsim.start_rtmsim(\"..\\inputfiles\\input.txt\")\n\n\n\n\n\n","category":"method"},{"location":"","page":"RTMsim","title":"RTMsim","text":"rtmsim.rtmsim_rev1(i_model,meshfilename,tmax,\r\n        p_ref,rho_ref,gamma,mu_resin_val,\r\n        p_a_val,p_init_val,\r\n        t_val,porosity_val,K_val,alpha_val,refdir1_val,refdir2_val,refdir3_val,\r\n        t1_val,porosity1_val,K1_val,alpha1_val,refdir11_val,refdir21_val,refdir31_val,\r\n        t2_val,porosity2_val,K2_val,alpha2_val,refdir12_val,refdir22_val,refdir32_val,\r\n        t3_val,porosity3_val,K3_val,alpha3_val,refdir13_val,refdir23_val,refdir33_val,\r\n        t4_val,porosity4_val,K4_val,alpha4_val,refdir14_val,refdir24_val,refdir34_val,\r\n        patchtype1val,patchtype2val,patchtype3val,patchtype4val,i_restart,restartfilename,i_interactive,r_p,n_pics)","category":"page"},{"location":"#rtmsim.rtmsim_rev1-NTuple{53, Any}","page":"RTMsim","title":"rtmsim.rtmsim_rev1","text":"rtmsim_rev1(i_model,meshfilename,tmax,\n            p_ref,rho_ref,gamma,mu_resin_val,\n            p_a_val,p_init_val,\n            t_val,porosity_val,K_val,alpha_val,refdir1_val,refdir2_val,refdir3_val,\n            t1_val,porosity1_val,K1_val,alpha1_val,refdir11_val,refdir21_val,refdir31_val,\n            t2_val,porosity2_val,K2_val,alpha2_val,refdir12_val,refdir22_val,refdir32_val,\n            t3_val,porosity3_val,K3_val,alpha3_val,refdir13_val,refdir23_val,refdir33_val,\n            t4_val,porosity4_val,K4_val,alpha4_val,refdir14_val,refdir24_val,refdir34_val,\n            patchtype1val,patchtype2val,patchtype3val,patchtype4val,i_restart,restartfilename,i_interactive,r_p,n_pics)\n\nRTMsim solver with main steps\n\nSimulation initialization\nRead mesh file and prepare patches  \nFind neighbouring cells\nAssign parameters to cells\nCreate local cell coordinate systems\nCalculate initial time step\nArray initialization\nDefine simulation time and intermediate output times\nBoundary conditions\n(Optional initialization if i_model=2,3,..)\nTime evolution (for loops over all indices inside a while loop for time evolution)\nCalculation of correction factors for cell thickness, porosity, permeability, viscosity\nPressure gradient calculation\nNumerical flux function calculation\nUpdate of rho, u, v, gamma and p according to conservation laws and equation of state\nBoundary conditions\nPrepare arrays for next time step\nSaving of intermediate data\n(Opional time marching etc. for i_model=2,3,...)\nCalculation of adaptive time step \n\nUnit tests:\n\nrtmsim.rtmsim_rev1(1,\"..\\meshfiles\\mesh_permeameter1_foursets.bdf\",200, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 1,2,2,2,0,\"results.jld2\",0,0.01,16)\n\nAddtional unit tests:\n\nrtmsim.rtmsim_rev1(1,\"..\\meshfiles\\mesh_permeameter1_foursets.bdf\",200, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 1,0,0,0, 0,\"results.jld2\",0,0.01,16) for starting a simulation with one pressure inlet port (sets 2, 3 and 4 are not used and consequently the preform parameters are ignored; since set 1 is a pressure inlet, also the parameters for set 1 are ignored and the only relevant parameter for the specified set is the pressure difference between injection and initial cavity pressure)\nrtmsim.rtmsim_rev1(1,\"..\\meshfiles\\mesh_permeameter1_foursets.bdf\",200, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 1,2,2,2, 0,\"results.jld2\",0,0.01,16) for starting a simulation with different patches and race tracking\nrtmsim.rtmsim_rev1(1,\"..\\meshfiles\\mesh_permeameter1_foursets.bdf\",200, 101325,1.225,1.4,0.06, 1.35e5,1.00e5, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-10,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-11,1,1,0,0, 3e-3,0.7,3e-9,1,1,0,0, 1,2,2,2, 1,\"results.jld2\",0,0.01,16) for continuing the previous simulation   \n\n\n\n\n\n","category":"method"},{"location":"","page":"RTMsim","title":"RTMsim","text":"rtmsim.plot_results(resultsfilename)","category":"page"},{"location":"#rtmsim.plot_results-Tuple{Any}","page":"RTMsim","title":"rtmsim.plot_results","text":"function plot_results(resultsfilename)\n\nCreate contour plots of the filling factor and the pressure after loading a results file.\n\nUnit test: \n\nrtmsim.plot_results(\"../results.jld2\")\n\n\n\n\n\n","category":"method"},{"location":"","page":"RTMsim","title":"RTMsim","text":"rtmsim.plot_overview(n_out,n_pics)","category":"page"},{"location":"#rtmsim.plot_overview-Tuple{Any, Any}","page":"RTMsim","title":"rtmsim.plot_overview","text":"function plot_overview(n_out,n_pics)\n\nCreate filling factor contour plots. n_out is the index of the last output file, if n_out==-1 the output file with the highest index is chosen. Consider the last n_pics for creating the contour plots at four equidistant time intervals, if n_pics==-1 all available output files are considered.\n\nUnit test: \n\nrtmsim.plot_overview(-1,-1)\n\n\n\n\n\n","category":"method"},{"location":"","page":"RTMsim","title":"RTMsim","text":"rtmsim.plot_filling(n_out,n_pics)","category":"page"},{"location":"#rtmsim.plot_filling-Tuple{Any, Any}","page":"RTMsim","title":"rtmsim.plot_filling","text":"function plot_filling(n_out,n_pics)\n\nCreate a window showing the filling factor contour plot at a selected time instance. Selection is with slider bar. n_out is the index of the last output file, if n_out==-1 the output file with the highest index is chosen. Consider the last n_pics for creating the contour plots at four equidistant time intervals, if n_pics==-1 all available output files are considered.\n\nUnit test:\n\nrtmsim.plot_filling(-1,-1) \n\n\n\n\n\n","category":"method"},{"location":"","page":"RTMsim","title":"RTMsim","text":"rtmsim.gui()","category":"page"},{"location":"#rtmsim.gui-Tuple{}","page":"RTMsim","title":"rtmsim.gui","text":"function gui()\n\nOpens the GUI.\n\n\n\n\n\n","category":"method"},{"location":"","page":"RTMsim","title":"RTMsim","text":"EditURL = \"https://github.com/obertscheiderfhwn/RTMsim/blob/main/docs/src/index.md\"","category":"page"}]
}
